@page "/"
@rendermode InteractiveServer

<PageTitle>Azure Cosmos DB for NoSQL</PageTitle>

<h1 class="text-5xl text-center py-4 pb-10">Azure Cosmos DB for NoSQL</h1>

<div class="flex justify-center items-center mb-4 relative">
    <div id="container-box" class="p-1 relative">
        <button type="button"
            class="px-4 py-2 bg-blue-700 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none 
        focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 disabled:opacity-50 disabled:cursor-not-allowed"
            @onclick="RunDemoAsync" disabled="@(Loading)">
            Run Demo
        </button>
        <div class="absolute bottom-0 right-0 w-4 h-4 @(Loading ? String.Empty : "hidden")">
            <div class="absolute inline-flex h-full w-full rounded-full bg-red-700"></div>
            <div class="absolute inline-flex h-full w-full rounded-full bg-red-700 opacity-75 animate-pulse"></div>
            <div class="absolute inline-flex h-full w-full rounded-full bg-red-700 opacity-50 animate-ping"></div>
        </div>
    </div>
</div>

<div class="bg-black text-green-500 font-mono mx-10 mb-10 shadow-lg">
    @if (ConsoleOutput.Any())
    {
        <div class="p-2">
            @for (int i = 0; i < ConsoleOutput.Count; i++)
            {
                var item = ConsoleOutput[i];
                <div>
                    <span class="text-gray-500 pr-1">
                        @($"{i:000}")
                    </span>
                    <div class="inline-block @(item.highlight ? "bg-yellow-400 text-black" : String.Empty)">
                        @item.content
                    </div>
                </div>
            }
        </div>
    }
</div>
